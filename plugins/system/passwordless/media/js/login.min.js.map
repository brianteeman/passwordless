{"version":3,"file":"login.min.js","names":["Joomla","document","Passwordless","interpolateParameters","object","prefix","arguments","length","encodedString","Object","keys","forEach","prop","_typeof","concat","encodeURIComponent","findField","form","fieldSelector","elInputs","querySelectorAll","lookForField","outerElement","elInput","elElement","parentElement","nodeName","elForms","i","handleLoginError","message","renderMessages","error","window","scrollTo","top","left","behavior","handleLoginChallenge","publicKey","conditional","arrayToBase64String","a","btoa","String","fromCharCode","apply","_toConsumableArray","base64url2base64","input","output","replace","pad","Error","Array","join","challenge","Text","_","Uint8Array","from","atob","c","charCodeAt","allowCredentials","map","data","id","credOptions","abortController","AbortController","signal","mediation","console","log","navigator","credentials","get","then","publicKeyCredential","type","rawId","response","authenticatorData","clientDataJSON","signature","userHandle","paths","getOptions","location","base","pathname","JSON","stringify","login","formId","e","elFormContainer","getElementById","elUsername","elReturn","username","value","returnUrl","postBackData","option","group","plugin","format","akaction","encoding","url","request","method","onSuccess","rawResponse","jsonData","parse","onError","xhr","status","statusText","initLogin","_asyncToGenerator","_regeneratorRuntime","mark","d","f","g","h","j","k","l","wrap","m","prev","next","loginButtons","slice","call","abrupt","hasWebAuthn","PublicKeyCredential","formNames","pluginOptions","allowAutoDetect","autodetect","canAutodetect","isConditionalMediationAvailable","sent","button","push","getAttribute","addEventListener","preventDefault","currentTarget","style","display","lastFormId","Set","setAttribute","stop"],"sources":["login.es6"],"sourcesContent":["/*!\n * @package   AkeebaPasswordlessLogin\n * @copyright Copyright (c)2018-2025 Nicholas K. Dionysopoulos / Akeeba Ltd\n * @license   GNU General Public License version 3, or later\n */\n\n/**\n * Akeeba Passwordless Login client-side implementation\n *\n * This is the EcmaScript 6+ source of the client-side implementation. It is meant to be transpiled to ES5.1 (plain old\n * JavaScript) with Babel. The actual file being loaded can be found in dist/passwordless.js.\n */\n((Joomla, document) => {\n\t\"use strict\";\n\n\tvar Passwordless = {};\n\n\t/**\n\t * Converts a simple object containing query string parameters to a single, escaped query string.\n\t * This method is a necessary evil since Joomla.request can only accept data as a string.\n\t *\n\t * @param    object   {object}  A plain object containing the query parameters to pass\n\t * @param    prefix   {string}  Prefix for array-type parameters\n\t *\n\t * @returns  {string}\n\t */\n\tPasswordless.interpolateParameters = (object, prefix = '') => {\n\t\tlet encodedString = '';\n\n\t\tObject.keys(object).forEach((prop) => {\n\t\t\tif (typeof object[prop] !== 'object')\n\t\t\t{\n\t\t\t\tif (encodedString.length > 0)\n\t\t\t\t{\n\t\t\t\t\tencodedString += '&';\n\t\t\t\t}\n\n\t\t\t\tif (prefix === '')\n\t\t\t\t{\n\t\t\t\t\tencodedString += `${encodeURIComponent(prop)}=${encodeURIComponent(object[prop])}`;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tencodedString\n\t\t\t\t\t\t+= `${encodeURIComponent(prefix)}[${encodeURIComponent(prop)}]=${encodeURIComponent(\n\t\t\t\t\t\tobject[prop],\n\t\t\t\t\t)}`;\n\t\t\t\t}\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Objects need special handling\n\t\t\tencodedString += `${Passwordless.interpolateParameters(object[prop], prop)}`;\n\t\t});\n\n\t\treturn encodedString;\n\t};\n\n\t/**\n\t * Finds the first field matching a selector inside a form\n\t *\n\t * @param   {HTMLFormElement}  form           The FORM element\n\t * @param   {String}           fieldSelector  The CSS selector to locate the field\n\t *\n\t * @returns {Element|null}  NULL when no element is found\n\t */\n\tPasswordless.findField = (form, fieldSelector) => {\n\t\tconst elInputs = form.querySelectorAll(fieldSelector);\n\n\t\tif (!elInputs.length)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\n\t\treturn elInputs[0];\n\t};\n\n\t/**\n\t * Find a form field described by the CSS selector fieldSelector.\n\t * The field must be inside a <form> element which is either the\n\t * outerElement itself or enclosed by outerElement.\n\t *\n\t * @param   {Element}  outerElement   The element which is either our form or contains our form.\n\t * @param   {String}   fieldSelector  The CSS selector to locate the field\n\t *\n\t * @returns {null|Element}  NULL when no element is found\n\t */\n\tPasswordless.lookForField = (outerElement, fieldSelector) => {\n\t\tlet elInput = null;\n\n\t\tif (!outerElement)\n\t\t{\n\t\t\treturn elInput;\n\t\t}\n\n\t\tconst elElement = outerElement.parentElement;\n\n\t\tif (elElement.nodeName === 'FORM')\n\t\t{\n\t\t\telInput = Passwordless.findField(elElement, fieldSelector);\n\n\t\t\treturn elInput;\n\t\t}\n\n\t\tconst elForms = elElement.querySelectorAll('form');\n\n\t\tif (elForms.length)\n\t\t{\n\t\t\tfor (let i = 0; i < elForms.length; i += 1)\n\t\t\t{\n\t\t\t\telInput = Passwordless.findField(elForms[i], fieldSelector);\n\n\t\t\t\tif (elInput !== null)\n\t\t\t\t{\n\t\t\t\t\treturn elInput;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t};\n\n\t/**\n\t * A simple error handler.\n\t *\n\t * @param   {String}  message\n\t */\n\tPasswordless.handleLoginError = (message) => {\n\t\tJoomla.renderMessages({error: [message]});\n\n\t\twindow.scrollTo({top: 0, left: 0, behavior: 'smooth'});\n\t};\n\n\t/**\n\t * Handles the browser response for the user interaction with the authenticator. Redirects to an\n\t * internal page which handles the login server-side.\n\t *\n\t * @param   {Object}   publicKey    Public key request options, returned from the server\n\t * @param   {boolean}  conditional  Set to true to enable the conditional UI\n\t */\n\tPasswordless.handleLoginChallenge = (publicKey, conditional = false) => {\n\t\tconst arrayToBase64String = (a) => btoa(String.fromCharCode(...a));\n\n\t\tconst base64url2base64 = (input) => {\n\t\t\tlet output = input\n\t\t\t\t.replace(/-/g, '+')\n\t\t\t\t.replace(/_/g, '/');\n\t\t\tconst pad  = output.length % 4;\n\t\t\tif (pad)\n\t\t\t{\n\t\t\t\tif (pad === 1)\n\t\t\t\t{\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'InvalidLengthError: Input base64url string is the wrong length to determine padding');\n\t\t\t\t}\n\t\t\t\toutput += new Array(5 - pad).join('=');\n\t\t\t}\n\t\t\treturn output;\n\t\t};\n\n\t\tif (!publicKey.challenge)\n\t\t{\n\t\t\tPasswordless.handleLoginError(Joomla.Text._(\"PLG_SYSTEM_PASSWORDLESS_ERR_INVALID_USERNAME\"));\n\n\t\t\treturn;\n\t\t}\n\n\t\tpublicKey.challenge = Uint8Array.from(\n\t\t\twindow.atob(base64url2base64(publicKey.challenge)), (c) => c.charCodeAt(0),\n\t\t);\n\n\t\tif (publicKey.allowCredentials)\n\t\t{\n\t\t\tpublicKey.allowCredentials = publicKey.allowCredentials.map((data) => {\n\t\t\t\tdata.id = Uint8Array.from(window.atob(base64url2base64(data.id)), (c) => c.charCodeAt(0));\n\t\t\t\treturn data;\n\t\t\t});\n\t\t}\n\n\t\tlet credOptions = {\n\t\t\tpublicKey: publicKey\n\t\t};\n\n\t\tif (conditional)\n\t\t{\n\t\t\tconst abortController = new AbortController();\n\t\t\tcredOptions.signal = abortController.signal;\n\t\t\tcredOptions.mediation = 'conditional';\n\t\t}\n\n\t\tconsole.log(credOptions);\n\n\t\tnavigator.credentials.get(credOptions)\n\t\t\t\t   .then((data) => {\n\t\t\t\tconst publicKeyCredential = {\n\t\t\t\t\tid:       data.id,\n\t\t\t\t\ttype:     data.type,\n\t\t\t\t\trawId:    arrayToBase64String(new Uint8Array(data.rawId)),\n\t\t\t\t\tresponse: {\n\t\t\t\t\t\tauthenticatorData: arrayToBase64String(new Uint8Array(data.response.authenticatorData)),\n\t\t\t\t\t\tclientDataJSON:    arrayToBase64String(new Uint8Array(data.response.clientDataJSON)),\n\t\t\t\t\t\tsignature:         arrayToBase64String(new Uint8Array(data.response.signature)),\n\t\t\t\t\t\tuserHandle:        data.response.userHandle ? arrayToBase64String(\n\t\t\t\t\t\t\tnew Uint8Array(data.response.userHandle),\n\t\t\t\t\t\t) : null,\n\t\t\t\t\t},\n\t\t\t\t};\n\n\t\t\t\t// Send the response to your server\n\t\t\t\tconst paths     = Joomla.getOptions('system.paths');\n\t\t\t\twindow.location =\n\t\t\t\t\t`${paths ? `${paths.base}/index.php` : window.location.pathname}?${Joomla.getOptions(\n\t\t\t\t\t\t'csrf.token')}=1&option=com_ajax&group=system&plugin=passwordless`\n\t\t\t\t\t+ `&format=raw&akaction=login&encoding=redirect&data=${\n\t\t\t\t\t\tbtoa(JSON.stringify(publicKeyCredential))}`;\n\t\t\t})\n\t\t\t\t   .catch((error) => {\n\t\t\t\t// Example: timeout, interaction refused...\n\t\t\t\tPasswordless.handleLoginError(error);\n\t\t\t});\n\t};\n\n\t/**\n\t * Initialize the passwordless login, going through the server to get the registered certificates\n\t * for the user.\n\t *\n\t * @param   {string}   formId       The login form's or login module's HTML ID\n\t * @param   {boolean}  conditional  Set to true to enable the conditional UI\n\t *\n\t * @returns {boolean}  Always FALSE to prevent BUTTON elements from reloading the page.\n\t */\n\t// eslint-disable-next-line no-unused-vars\n\tPasswordless.login = (formId, conditional = false) => {\n\t\tconst elFormContainer = document.getElementById(formId);\n\t\tconst elUsername      = Passwordless.lookForField(elFormContainer, 'input[name=username]');\n\t\tconst elReturn        = Passwordless.lookForField(elFormContainer, 'input[name=return]');\n\n\t\tconst username  = elUsername?.value ?? '';\n\t\tconst returnUrl = elReturn ? elReturn.value : null;\n\n\t\t// Get the Public Key Credential Request Options (challenge and acceptable public keys)\n\t\tconst postBackData                            = {\n\t\t\toption:   \"com_ajax\",\n\t\t\tgroup:    \"system\",\n\t\t\tplugin:   \"passwordless\",\n\t\t\tformat:   \"raw\",\n\t\t\takaction: \"challenge\",\n\t\t\tencoding: \"raw\",\n\t\t\tusername,\n\t\t\treturnUrl,\n\t\t};\n\t\tpostBackData[Joomla.getOptions('csrf.token')] = 1;\n\n\t\tconst paths = Joomla.getOptions('system.paths');\n\t\tconst url   = paths ? (paths.base + '/index.php') : window.location.pathname;\n\n\t\tJoomla.request({\n\t\t\turl:    url,\n\t\t\tmethod: \"POST\",\n\t\t\tdata:   Passwordless.interpolateParameters(postBackData),\n\t\t\tonSuccess(rawResponse)\n\t\t\t{\n\t\t\t\tlet jsonData = {};\n\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tjsonData = JSON.parse(rawResponse);\n\t\t\t\t}\n\t\t\t\tcatch (e)\n\t\t\t\t{\n\t\t\t\t\t/**\n\t\t\t\t\t * In case of JSON decoding failure fall through; the error will be handled in the login\n\t\t\t\t\t * challenge handler called below.\n\t\t\t\t\t */\n\t\t\t\t}\n\n\t\t\t\tif (jsonData.error)\n\t\t\t\t{\n\t\t\t\t\tPasswordless.handleLoginError(jsonData.error);\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconsole.log(jsonData);\n\n\t\t\t\tPasswordless.handleLoginChallenge(jsonData, conditional);\n\t\t\t},\n\t\t\tonError: (xhr) => {\n\t\t\t\tPasswordless.handleLoginError(`${xhr.status} ${xhr.statusText}`);\n\t\t\t},\n\t\t});\n\n\t\treturn false;\n\t};\n\n\tPasswordless.initLogin = async () => {\n\t\t// Find all login buttons on the page\n\t\tconst loginButtons  = [].slice.call(document.querySelectorAll(\".plg_system_passwordless_login_button\"));\n\n\t\t// If there are no login buttons we can return immediately\n\t\tif (!loginButtons.length)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if WebAuthn and conditional mediation for it are available\n\t\tconst hasWebAuthn   = typeof window.PublicKeyCredential !== \"undefined\";\n\t\tlet formNames = [];\n\n\t\tconst pluginOptions   = Joomla.getOptions(\"plg_system_passwordless\");\n\t\tconst allowAutoDetect = pluginOptions?.autodetect ?? false;\n\t\tlet canAutodetect     = false;\n\n\t\tif (allowAutoDetect && hasWebAuthn && typeof PublicKeyCredential.isConditionalMediationAvailable !== \"undefined\")\n\t\t{\n\t\t\tcanAutodetect = await PublicKeyCredential.isConditionalMediationAvailable();\n\t\t}\n\n\t\tconsole.log('Passkey autodetection: ' + (canAutodetect ? 'enabled' : 'disabled'));\n\n\t\t// Process all login buttons\n\t\tloginButtons.forEach((button) =>\n\t\t{\n\t\t\t// If WebAuthn is not available let's hide the button and get out of here.\n\t\t\tif (!hasWebAuthn)\n\t\t\t{\n\t\t\t\tbutton.style.display = \"none\";\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Stash the ID of the form the login button belongs to. We'll need it later.\n\t\t\tformNames.push(button.getAttribute(\"data-passwordless-form\"))\n\n\t\t\t// Add the click handler.\n\t\t\tbutton.addEventListener(\"click\", (e) =>\n\t\t\t{\n\t\t\t\te.preventDefault();\n\n\t\t\t\tconst currentTarget = e.currentTarget;\n\n\t\t\t\tPasswordless.login(\n\t\t\t\t\tcurrentTarget.getAttribute(\"data-passwordless-form\")\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\n\t\t// The following code only applies when conditional mediation is available. If it's not available, go away.\n\t\tif (!formNames.length || !canAutodetect)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tlet lastFormId = null;\n\n\t\t// This sets the autocomplete attribute of the username field of every unique login form.\n\t\t[...new Set(formNames)].forEach((formId) => {\n            const elFormContainer = document.getElementById(formId);\n\n            if (!elFormContainer)\n            {\n                return;\n            }\n\n            const elUsername = Passwordless.lookForField(elFormContainer, \"input[name=username]\");\n\n            if (!elUsername)\n            {\n                return;\n            }\n\n            elUsername.setAttribute(\"autocomplete\", \"username webauthn\");\n\n\t\t\tlastFormId = formId\n\t\t});\n\n\t\tif (!lastFormId)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tPasswordless.login(lastFormId, true);\n\t}\n\n\t// Initialization. Runs on DOM content loaded since this script is always loaded deferred.\n\tPasswordless.initLogin();\n\n})(Joomla, document);\n"],"mappings":"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","ignoreList":[]}